# Configuration

Musium reads all settings from a configuration file. The location of the config
file is passed as an argument to the program. Config files consist of key-value
pairs with `=` separator, and support `#` for comments.

## Example

    # Note: listening on port 80 requires CAP_NET_BIND_SERVICE.
    # If you want to run as an unprivileged user, use a port beyond 1024.
    listen = 0.0.0.0:80

    library_path = /home/media/music
    covers_path = /var/cache/musium/covers
    data_path = /var/lib/musium

    audio_device = UMC404HD 192k
    audio_volume_control = UMC404HD 192k Output

    high_pass_cutoff = 30 Hz

## Settings

The following settings are available. Unless noted otherwise, all options must
be specified exactly once.

### listen

The address and port to bind to, for example `0.0.0.0:80`. Use `0.0.0.0` as the
address to listen for external connections and make the player available to the
entire local network. Use `localhost` to listen only on loopback.

The listen address is optional and defaults to `0.0.0.0:8233`.

### library_path

The directory to recursively scan for flac files.

### covers_path

The directory to store cover art thumbnails in. These are generated by the
`scan` subcommand, and loaded by the `serve` subcommand at startup. The
directory must exist.

### data_path

The directory to store persistent state in. In particular, the listens database
will be placed in this directory. Updating the listens database causes disk
activity for every track, so it is recommended to keep the data path on a silent
storage medium. See also [the section on disks](disks.md) for more details.

### audio_device

The <abbr>Alsa</abbr> card used for playback. When the configured card cannot
be found, Musium will list all of the cards that are available. Musium uses the
<abbr>Alsa</abbr> hardware device directly, there is no need nor support for
PulseAudio.

### audio_volume_control

The <abbr>Alsa</abbr> simple mixer control that controls playback volume. Often
there are controls named `Master`, `PCM`, and `Speakers`, but this differs from
card to card. Use `amixer scontrols` to list available controls. Be sure to run
this with the right privileges (possibly as superuser, or as a user in the
`audio` group) to reveal all available controls.

Musium assumes exclusive control over this mixer control, so you should not
manipulate it manually with tools like Alsamixer after starting Musium. In
particular, Musium adjusts the volume to perform loudness normalization, so even
for a constant target playback volume, Musium will manipulate the mixer control.

### high_pass_cutoff

Apply a high-pass filter to the output, with the given cutoff frequency. The
value must be an integer and include the _Hz_ unit as suffix. This setting is
optional and defaults to 0&nbsp;Hz (so no frequencies are filtered).

A high-pass filter is useful in situations where your speakers reproduce low
frequencies — perhaps even louder than intended due to suboptimal room
acoustics — that are unpleasant or unwanted. Especially 2020s albums can be
bass-heavy, and taking off the low end can help to allow greater playback volume
without making the room sound saturated. Values around 50&nbsp;Hz are suitable
for this use case.

The high pass filter is not perfect. It has a gain of -3&nbsp;dB at the cutoff
frequency, and a rolloff of -12&nbsp;dB per octave. For example, at a cutoff
frequency of 50&nbsp;Hz, a 25&nbsp;Hz tone would be diminished by 15&nbsp;dB.
